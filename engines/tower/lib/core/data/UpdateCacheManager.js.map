{"version":3,"file":"UpdateCacheManager.js","sourceRoot":"","sources":["../../../src/core/data/UpdateCacheManager.ts"],"names":[],"mappings":"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"}