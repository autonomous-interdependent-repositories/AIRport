import {ITqTestTask} from "./TqTestTask";
import {Entity} from "../../../../air-control/src/impl/core/entity/metadata/EntityDecorators";
import {dbConst} from "../../config/Constants";
import {Id, OneToMany} from "../../../../air-control/spec/impl/ColumnDecorators";
import {CascadeType} from "tiql";
import {
	ISingleIdRepositoryEntity,
	SingleIdRepositoryEntity
} from "../../data/repository/model/SingleIdRepositoryEntity";

export interface ITqTestGoal
extends ISingleIdRepositoryEntity {

	accomplished?: boolean;
	description?: string;
	goalId: number;
	name?: string;
	dueDate?: Date;
	tasks?: ITqTestTask[];

}

@Entity()
export class TqTestGoal
	extends SingleIdRepositoryEntity
	implements ITqTestGoal {

	accomplished: boolean;

	description: string;

	@Id()
	goalId: number;

	name: string;

	dueDate: Date;

	@OneToMany({mappedBy: 'goal', cascade: CascadeType.ALL})
	tasks?: ITqTestTask[];

}